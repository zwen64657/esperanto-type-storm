# Esperanto Type Storm - æŠ€æœ¯æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

**Esperanto Type Stormï¼ˆä¸–ç•Œè¯­æ‰“å­—é£æš´ï¼‰** æ˜¯ä¸€ä¸ªåŸºäº Web çš„æ‰“å­—æ¸¸æˆï¼Œç©å®¶é€šè¿‡è¾“å…¥å±å¹•ä¸Šæ‰è½çš„ä¸–ç•Œè¯­å•è¯æ¥å¾—åˆ†ï¼ŒåŒæ—¶å­¦ä¹ ä¸–ç•Œè¯­è¯æ±‡ã€‚

### æ ¸å¿ƒç‰¹æ€§
- éœ“è™¹èµ›åšæœ‹å…‹é£æ ¼è§†è§‰è®¾è®¡
- ä¸‰ç§éš¾åº¦ç­‰çº§ï¼ˆç®€å•/æ™®é€š/å›°éš¾ï¼‰
- 1000 è¯ä¸–ç•Œè¯­è¯åº“ï¼Œå¸¦çœŸäººå‘éŸ³
- ä¸¤ç§å•è¯æ¨¡å¼ï¼šå®Œå…¨éšæœº/æŒ‰é¡ºåºå­¦ä¹ 
- ä¸‰ç§ç”Ÿå‘½å€¼æ¨¡å¼ï¼šä¿å®ˆ/æ ‡å‡†/é•¿æ•ˆ
- æœ¬åœ°æœ€é«˜åˆ†è®°å½•
- æ¸¸æˆè¿›åº¦ä¿å­˜/æ¢å¤åŠŸèƒ½
- èƒŒæ™¯éŸ³ä¹ä¸éŸ³æ•ˆç³»ç»Ÿï¼ˆå«éŸ³é‡æ§åˆ¶ï¼‰

---

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | è¯´æ˜ |
|------|------|
| HTML5 | é¡µé¢ç»“æ„ |
| CSS3 | æ ·å¼ä¸åŠ¨ç”»ï¼ˆéœ“è™¹å‘å…‰æ•ˆæœã€ç½‘æ ¼åŠ¨ç”»ï¼‰ |
| Vanilla JavaScript | æ¸¸æˆé€»è¾‘ï¼Œæ— æ¡†æ¶ä¾èµ– |
| Canvas API | æ¸¸æˆæ¸²æŸ“ï¼ˆå•è¯ã€ç²’å­æ•ˆæœï¼‰ |
| Web Audio API | éŸ³æ•ˆåˆæˆï¼ˆæŒ¯è¡å™¨ç”Ÿæˆï¼‰ |
| HTML5 Audio | èƒŒæ™¯éŸ³ä¹ä¸å•è¯å‘éŸ³æ’­æ”¾ |
| LocalStorage | å­˜æ¡£ã€æœ€é«˜åˆ†ã€è®¾ç½®ä¿å­˜ |

---

## æ–‡ä»¶ç»“æ„

```
ä¸–ç•Œè¯­æ‰“å­—æ¸¸æˆ/
â”œâ”€â”€ index.html                          # ä¸»ç¨‹åºæ–‡ä»¶ï¼ˆåŒ…å«HTML/CSS/JSï¼‰
â”œâ”€â”€ add_words_full.js                   # å•è¯åº“æ›´æ–°å·¥å…·ï¼ˆNode.jsï¼‰
â”œâ”€â”€ ä¸–ç•Œè¯­1000è¯.txt                     # å•è¯æºæ–‡ä»¶
â”œâ”€â”€ æ¸¸æˆéŸ³ä¹ç‰ˆæƒå£°æ˜.txt                  # BGM ç‰ˆæƒä¿¡æ¯
â”œâ”€â”€ esperanto 1000åŸºç¡€è¯ ä¸€è¯ä¸€éŸ³/       # å•è¯å‘éŸ³æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ 0001.mp3
â”‚   â”œâ”€â”€ 0002.mp3
â”‚   â””â”€â”€ ... (1000ä¸ªæ–‡ä»¶)
â”œâ”€â”€ slowlife.mp3                        # èƒŒæ™¯éŸ³ä¹
â”œâ”€â”€ yesterday.mp3
â”œâ”€â”€ hearty.mp3
â”œâ”€â”€ floatinggarden.mp3
â””â”€â”€ dawnofchange.mp3
```

---

## æ ¸å¿ƒæ¨¡å—

### 1. æ¸¸æˆé…ç½®

#### å•è¯æ•°æ®åº“ `wordDatabase`
```javascript
const wordDatabase = [
    { word: "a", trans: "[è¯å°¾]å½¢å®¹è¯ï¼Œç¬¬â€¦", audio: "esperanto 1000åŸºç¡€è¯ ä¸€è¯ä¸€éŸ³/0001.mp3" },
    { word: "aboni", trans: "ï¼ˆäº‹å…ˆä»˜æ¬¾ï¼‰é¢„è®¢", audio: "esperanto 1000åŸºç¡€è¯ ä¸€è¯ä¸€éŸ³/0002.mp3" },
    // ... å…± 1000 ä¸ªå•è¯
];
```

#### éš¾åº¦é…ç½® `difficulties`
| éš¾åº¦ | ä¸‹è½é€Ÿåº¦ | ç”Ÿæˆé—´éš”(ms) | åˆ†æ•°å€ç‡ |
|------|----------|--------------|----------|
| easy | 1.0 | 2000 | 1x |
| medium | 2.0 | 1500 | 2x |
| hard | 3.5 | 1000 | 3x |

#### ç”Ÿå‘½å€¼æ¨¡å¼é…ç½® `healthModes`
| æ¨¡å¼ | ç”Ÿå‘½å€¼ | å—ä¼¤å€¼ | è¯´æ˜ |
|------|--------|--------|------|
| conservative | 150 | 10 | ä¿å®ˆæ¨¡å¼ï¼Œé€‚åˆæ–°æ‰‹ |
| standard | 200 | 10 | æ ‡å‡†æ¨¡å¼ |
| extended | 300 | 10 | é•¿æ—¶æ¨¡å¼ï¼Œæ›´æŒä¹… |

#### å•è¯æ¨¡å¼ `wordMode`
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| random | å®Œå…¨éšæœºé€‰æ‹©å•è¯ |
| sequential | æŒ‰é¡ºåºé€‰æ‹©å•è¯ï¼ˆé€‚åˆç³»ç»Ÿå­¦ä¹ ï¼‰ |

#### èƒŒæ™¯éŸ³ä¹åˆ—è¡¨ `bgmTracks`
```javascript
const bgmTracks = [
    'slowlife.mp3',      // Bensound - Slow Life
    'yesterday.mp3',     // Bensound - Yesterday
    'hearty.mp3',        // Bensound - Hearty
    'floatinggarden.mp3', // Bensound - Floating Garden
    'dawnofchange.mp3'   // Bensound - Dawn of Change
];
```

#### é¢œè‰²é…ç½® `colors`
```javascript
const colors = {
    primary: '#00f3ff',   // é’è‰²ï¼ˆä¸»è‰²ï¼‰
    secondary: '#ff00ff', // æ´‹çº¢ï¼ˆè¾…è‰²ï¼‰
    accent: '#ffff00',    // é»„è‰²ï¼ˆå¼ºè°ƒï¼‰
    danger: '#ff3366'     // çº¢è‰²ï¼ˆå±é™©ï¼‰
};
```

### 2. æ¸¸æˆçŠ¶æ€ `gameState`

```javascript
{
    isPlaying: boolean,        // æ¸¸æˆæ˜¯å¦è¿è¡Œä¸­
    isPaused: boolean,         // æ˜¯å¦æš‚åœ
    score: number,             // å½“å‰åˆ†æ•°
    health: number,            // å½“å‰ç”Ÿå‘½å€¼
    difficulty: string,        // å½“å‰éš¾åº¦ (easy/medium/hard)
    words: Word[],             // å±å¹•ä¸Šçš„å•è¯å¯¹è±¡
    particles: Particle[],     // çˆ†ç‚¸ç²’å­æ•ˆæœ
    spawnRate: number,         // å•è¯ç”Ÿæˆé—´éš”(ms)
    fallSpeed: number,         // ä¸‹è½é€Ÿåº¦
    scoreMultiplier: number,   // åˆ†æ•°å€ç‡
    soundEnabled: boolean,     // æ˜¯å¦å¯ç”¨å£°éŸ³
    wordMode: string,          // å•è¯æ¨¡å¼ (random/sequential)
    currentWordIndex: number,  // å½“å‰å•è¯ç´¢å¼•ï¼ˆé¡ºåºæ¨¡å¼ï¼‰
    healthMode: string,        // ç”Ÿå‘½å€¼æ¨¡å¼
    bgmEnabled: boolean,       // èƒŒæ™¯éŸ³ä¹å¼€å…³
    bgmVolume: number,         // BGMéŸ³é‡ (0-1)
    sfxEnabled: boolean        // éŸ³æ•ˆå¼€å…³
}
```

### 3. æ ¸å¿ƒç±»

#### `Word` ç±» - å•è¯å¯¹è±¡
```javascript
class Word {
    constructor(diff) {
        // æ ¹æ®å•è¯æ¨¡å¼é€‰æ‹©æ•°æ®
        if (gameState.wordMode === 'sequential') {
            data = wordDatabase[gameState.currentWordIndex % wordDatabase.length];
            gameState.currentWordIndex++;
        } else {
            data = wordDatabase[Math.floor(Math.random() * wordDatabase.length)];
        }
        this.text   // ä¸–ç•Œè¯­å•è¯
        this.trans  // ä¸­æ–‡ç¿»è¯‘
        this.data   // åŸå§‹æ•°æ®ï¼ˆç”¨äºå‘éŸ³ï¼‰
        this.x, this.y   // ä½ç½®åæ ‡
        this.speed  // ä¸‹è½é€Ÿåº¦ï¼ˆåŸºäºéš¾åº¦ï¼Œå¸¦0.8-1.2éšæœºæ³¢åŠ¨ï¼‰
        this.color  // éšæœºé¢œè‰²ï¼ˆprimary/secondary/accentä¹‹ä¸€ï¼‰
    }
    update(deltaTime)  // æ›´æ–°ä½ç½®ï¼šy += speed * deltaTime * 60
    draw(ctx)         // ç»˜åˆ¶åˆ°Canvasï¼ˆå¸¦å‘å…‰æ•ˆæœï¼‰
    isOffScreen()     // æ£€æµ‹æ˜¯å¦ç¦»å¼€å±å¹•
}
```

#### `Particle` ç±» - çˆ†ç‚¸ç²’å­
```javascript
class Particle {
    constructor(x, y, color) {
        this.x, this.y    // ä½ç½®
        this.vx, this.vy  // éšæœºé€Ÿåº¦å‘é‡ (-5~5)
        this.life         // ç”Ÿå‘½å‘¨æœŸ (1.0 â†’ 0)
        this.decay        // è¡°å‡é€Ÿåº¦ (0.02~0.04)
        this.size         // ç²’å­å¤§å° (2~6)
        this.color        // é¢œè‰²
    }
    update()  // æ›´æ–°ä½ç½®ä¸ç”Ÿå‘½å‘¨æœŸï¼Œåº”ç”¨é‡åŠ›
    draw(ctx) // ç»˜åˆ¶ç²’å­ï¼ˆå¸¦é€æ˜åº¦æ¸å˜ï¼‰
}
```

#### `BGMPlayer` ç±» - èƒŒæ™¯éŸ³ä¹æ’­æ”¾å™¨
```javascript
class BGMPlayer {
    constructor(tracks) {
        this.tracks   // éŸ³ä¹æ–‡ä»¶åˆ—è¡¨
        this.current  // å½“å‰ç´¢å¼•
        this.audio    // Audioå¯¹è±¡
    }
    play()           // æ’­æ”¾éŸ³ä¹
    pause()          // æš‚åœ
    stop()           // åœæ­¢
    setVolume(vol)   // è®¾ç½®éŸ³é‡
    nextTrack()      // åˆ‡æ¢ä¸‹ä¸€é¦–
}

---

## æ¸¸æˆæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å¼€å§‹èœå•                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç®€å•   â”‚  â”‚  æ™®é€š   â”‚  â”‚  å›°éš¾   â”‚  â”‚ ç»§ç»­ä¸Šæ¬¡è¿›åº¦ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ å•è¯æ¨¡å¼ï¼šéšæœº/é¡ºåºâ”‚  â”‚ ç”Ÿå‘½å€¼ï¼šä¿å®ˆ/æ ‡å‡†/é•¿æ•ˆâ”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ¸¸æˆå¾ªç¯                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. æ ¹æ®ç”Ÿæˆé—´éš”åˆ›å»ºæ–°å•è¯ï¼ˆéšæœº/é¡ºåºæ¨¡å¼ï¼‰            â”‚   â”‚
â”‚  â”‚  2. æ›´æ–°æ‰€æœ‰å•è¯ä½ç½®ï¼ˆdeltaTimeå½’ä¸€åŒ–ï¼‰                â”‚   â”‚
â”‚  â”‚  3. æ£€æµ‹è§¦åº•ï¼ˆæ‰£è¡€ï¼Œè§¦å‘å—ä¼¤æ•ˆæœï¼‰                     â”‚   â”‚
â”‚  â”‚  4. æ›´æ–°ç²’å­æ•ˆæœï¼ˆé‡åŠ›ã€ç”Ÿå‘½å‘¨æœŸï¼‰                     â”‚   â”‚
â”‚  â”‚  5. æ¸²æŸ“ç”»é¢ï¼ˆå•è¯ã€ç²’å­ã€HUDï¼‰                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                   â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚        â–¼                 â–¼                 â–¼                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚ è¾“å…¥åŒ¹é… â”‚      â”‚  è§¦åº•   â”‚      â”‚ æš‚åœESC  â”‚           â”‚
â”‚   â”‚åŠ åˆ†+ç‰¹æ•ˆ â”‚      â”‚  æ‰£è¡€   â”‚      â”‚ ä¿å­˜è¿›åº¦ â”‚           â”‚
â”‚   â”‚+å•è¯å‘éŸ³ â”‚      â”‚+éœ‡åŠ¨æ•ˆæœ â”‚      â”‚ BGMæš‚åœ  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   GAME OVER â”‚
                    â”‚  æ˜¾ç¤ºæœ€ç»ˆåˆ†æ•°â”‚
                    â”‚  ä¿å­˜æœ€é«˜åˆ† â”‚
                    â”‚  BGMåœæ­¢    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸»è¦å‡½æ•°è¯´æ˜

### æ¸¸æˆæ§åˆ¶

| å‡½æ•° | è¯´æ˜ |
|------|------|
| `startGame(diff)` | å¼€å§‹æ–°æ¸¸æˆï¼Œåˆå§‹åŒ–çŠ¶æ€å’ŒCanvas |
| `restartGame()` | é‡æ–°å¼€å§‹å½“å‰éš¾åº¦ |
| `togglePause()` | æš‚åœ/ç»§ç»­æ¸¸æˆï¼Œè‡ªåŠ¨ä¿å­˜è¿›åº¦ |
| `backToMenu()` | è¿”å›ä¸»èœå• |
| `gameOver()` | æ¸¸æˆç»“æŸå¤„ç†ï¼Œä¿å­˜æœ€é«˜åˆ† |

### å•è¯æ¨¡å¼è®¾ç½®

| å‡½æ•° | è¯´æ˜ |
|------|------|
| `setWordMode(mode)` | è®¾ç½®å•è¯æ¨¡å¼ï¼ˆrandom/sequentialï¼‰ |
| `setHealthMode(mode)` | è®¾ç½®ç”Ÿå‘½å€¼æ¨¡å¼ï¼ˆconservative/standard/extendedï¼‰ |

### å­˜æ¡£ç³»ç»Ÿ

| å‡½æ•° | è¯´æ˜ |
|------|------|
| `saveProgress()` | ä¿å­˜å½“å‰çŠ¶æ€åˆ° localStorage |
| `checkSavedProgress()` | æ£€æŸ¥æ˜¯å¦æœ‰å­˜æ¡£ï¼Œæ˜¾ç¤º/éšè—ç»§ç»­æŒ‰é’® |
| `resumeGame()` | æ¢å¤å­˜æ¡£ç»§ç»­æ¸¸æˆ |

**å­˜æ¡£æ•°æ®ç»“æ„ï¼š**
```javascript
{
    score: number,
    health: number,
    difficulty: string,
    wordMode: string,
    currentWordIndex: number,
    healthMode: string,
    words: [{ text, trans, x, y, speed, color }],
    timestamp: number
}
```

### éŸ³é¢‘ç³»ç»Ÿ

| å‡½æ•° | è¯´æ˜ |
|------|------|
| `playWordAudio(wordData)` | æ’­æ”¾å•è¯å‘éŸ³ï¼ˆæœ¬åœ° mp3 æ–‡ä»¶ï¼‰ |
| `playSoundEffect(type)` | æ’­æ”¾åˆæˆéŸ³æ•ˆï¼ˆhit: æ­£å¼¦æ³¢, damage: é”¯é½¿æ³¢ï¼‰ |

**éŸ³æ•ˆå®ç°ï¼ˆWeb Audio APIï¼‰ï¼š**
```javascript
// hit éŸ³æ•ˆï¼šæ­£å¼¦æ³¢ï¼Œé¢‘ç‡ 800Hz â†’ 1200Hz
// damage éŸ³æ•ˆï¼šé”¯é½¿æ³¢ï¼Œé¢‘ç‡ 200Hz â†’ 100Hz
```

### BGM æ§åˆ¶

| å‡½æ•° | è¯´æ˜ |
|------|------|
| `toggleBGM()` | åˆ‡æ¢èƒŒæ™¯éŸ³ä¹å¼€å…³ |
| `toggleSFX()` | åˆ‡æ¢éŸ³æ•ˆå¼€å…³ |
| `bgmPlayer.setVolume(vol)` | è®¾ç½® BGM éŸ³é‡ï¼ˆ0-1ï¼‰ |
| `bgmPlayer.nextTrack()` | æ’­æ”¾å®Œè‡ªåŠ¨åˆ‡æ¢ä¸‹ä¸€é¦– |

### æ¸²æŸ“å¾ªç¯

```javascript
function gameLoop(timestamp) {
    const deltaTime = (timestamp - lastTime) / 1000;
    lastTime = timestamp;

    // æ›´æ–°
    update(deltaTime);

    // æ¸²æŸ“
    draw();

    requestAnimationFrame(gameLoop);
}
```

---

## è¾“å…¥å¤„ç†

```javascript
document.getElementById('wordInput').addEventListener('input', handleInput);

function handleInput(e) {
    const input = e.target.value.toLowerCase().trim();

    // éå†å±å¹•ä¸Šçš„å•è¯ï¼ŒæŸ¥æ‰¾åŒ¹é…
    gameState.words.forEach((word, index) => {
        if (word.text.toLowerCase() === input) {
            matchedIndex = index;
        }
    });

    // å¦‚æœæœ‰åŒ¹é…ï¼Œä¼˜å…ˆé€‰æ‹© Y åæ ‡æœ€å¤§çš„ï¼ˆæœ€æ¥è¿‘åº•éƒ¨ï¼‰
    if (matchedIndices.length > 0) {
        const targetIndex = matchedIndices.reduce((max, idx) =>
            gameState.words[idx].y > gameState.words[max].y ? idx : max
        , 0);

        // æ¶ˆé™¤å•è¯
        const word = gameState.words[targetIndex];
        createExplosion(word.x, word.y - 10, word.color);
        playWordAudio(word.data);
        playSoundEffect('hit');
        gameState.score += 10 * gameState.scoreMultiplier;
        gameState.words.splice(targetIndex, 1);
        e.target.value = '';
    }
}
```

**åŒ¹é…é€»è¾‘ï¼š**
1. è·å–è¾“å…¥æ¡†å†…å®¹å¹¶è½¬å°å†™
2. éå†å±å¹•ä¸Šæ‰€æœ‰å•è¯
3. ä¼˜å…ˆåŒ¹é… Y åæ ‡æœ€å¤§ï¼ˆæœ€æ¥è¿‘åº•éƒ¨ï¼‰çš„å•è¯
4. åŒ¹é…æˆåŠŸåæ¸…ç©ºè¾“å…¥æ¡†

---

## è§†è§‰æ•ˆæœ

### CSS åŠ¨ç”»

| æ•ˆæœ | å®ç° |
|------|------|
| èƒŒæ™¯ç½‘æ ¼ | `perspective: 500px` + `rotateX(60deg)` + `translateY` åŠ¨ç”» |
| éœ“è™¹å‘å…‰ | `text-shadow` + `box-shadow` å¤šå±‚é˜´å½± |
| éœ‡åŠ¨æ•ˆæœ | `@keyframes shake` å·¦å³å¹³ç§»åŠ¨ç”» |
| å—ä¼¤é—ªçº¢ | `.damage-flash` å±‚ï¼Œçº¢è‰²åŠé€æ˜è¦†ç›– |
| æ¨¡ç³ŠèƒŒæ™¯ | `backdrop-filter: blur(5px/10px)` |
| éœ“è™¹è„‰å†² | `@keyframes neonPulse` æ–‡å­—é˜´å½±è„‰å†² |

### Canvas æ•ˆæœ

| æ•ˆæœ | å®ç°æ–¹å¼ |
|------|----------|
| å•è¯å‘å…‰ | `ctx.shadowBlur: 20` + `ctx.shadowColor` |
| çˆ†ç‚¸ç²’å­ | ç²’å­ç³»ç»Ÿï¼Œéšæœºé€Ÿåº¦ã€é¢œè‰²ã€è¡°å‡ |
| åŒè¯­æ˜¾ç¤º | ä¸»å•è¯ 28px ç²—ä½“ + ç¿»è¯‘ 16px åŠé€æ˜ |
| ç²’å­æ¸éš | `ctx.globalAlpha = this.life` |

---

## æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°å•è¯

1. åœ¨ `ä¸–ç•Œè¯­1000è¯.txt` ä¸­æ·»åŠ å•è¯ï¼ˆæ ¼å¼ï¼š`å•è¯ ç¿»è¯‘`ï¼‰
2. å°†å¯¹åº”çš„ mp3 å‘éŸ³æ–‡ä»¶æ”¾å…¥ `esperanto 1000åŸºç¡€è¯ ä¸€è¯ä¸€éŸ³/` æ–‡ä»¶å¤¹
3. è¿è¡Œ `node add_words_full.js` æ›´æ–° `wordDatabase`

### æ·»åŠ æ–°èƒŒæ™¯éŸ³ä¹

1. å°† mp3 æ–‡ä»¶æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•
2. ç¼–è¾‘ `bgmTracks` æ•°ç»„ï¼š
```javascript
const bgmTracks = [
    'slowlife.mp3',
    'yesterday.mp3',
    'your_new_music.mp3'  // æ·»åŠ æ–°éŸ³ä¹
];
```

### æ·»åŠ æ–°éš¾åº¦

ç¼–è¾‘ `difficulties` å¯¹è±¡ï¼š
```javascript
const difficulties = {
    easy: { speed: 1.0, spawnRate: 2000, scoreMult: 1, name: "ç®€å•" },
    medium: { speed: 2.0, spawnRate: 1500, scoreMult: 2, name: "æ™®é€š" },
    hard: { speed: 3.5, spawnRate: 1000, scoreMult: 3, name: "å›°éš¾" },
    nightmare: { speed: 5.0, spawnRate: 600, scoreMult: 5, name: "å™©æ¢¦" }  // æ–°éš¾åº¦
};
```

### æ·»åŠ æ–°ç”Ÿå‘½å€¼æ¨¡å¼

ç¼–è¾‘ `healthModes` å¯¹è±¡ï¼š
```javascript
const healthModes = {
    conservative: { health: 150, damage: 10, name: 'ä¿å®ˆ', icon: 'ğŸŸ¢' },
    standard: { health: 200, damage: 10, name: 'æ ‡å‡†', icon: 'ğŸ”µ' },
    extended: { health: 300, damage: 10, name: 'é•¿æ•ˆ', icon: 'ğŸŸ£' },
    endless: { health: 999, damage: 0, name: 'æ— å°½', icon: 'â™¾ï¸' }  // æ–°æ¨¡å¼
};
```

### è‡ªå®šä¹‰æ ·å¼

ä¿®æ”¹ CSS `:root` å˜é‡ï¼š
```css
:root {
    --primary: #00f3ff;    /* ä¸»è‰²è°ƒï¼ˆé’è‰²ï¼‰ */
    --secondary: #ff00ff;  /* è¾…è‰²è°ƒï¼ˆæ´‹çº¢ï¼‰ */
    --accent: #ffff00;     /* å¼ºè°ƒè‰²ï¼ˆé»„è‰²ï¼‰ */
    --danger: #ff3366;     /* å±é™©è‰²ï¼ˆçº¢è‰²ï¼‰ */
    --bg-color: #050510;   /* èƒŒæ™¯è‰² */
    --grid-color: rgba(0, 243, 255, 0.1);  /* ç½‘æ ¼é¢œè‰² */
}
```

---

## å·²çŸ¥é—®é¢˜ & ä¿®å¤

### Bug ä¿®å¤è®°å½•

| é—®é¢˜ | ä¿®å¤æ–¹æ¡ˆ |
|------|----------|
| éš¾åº¦æ˜¾ç¤ºä¸éŸ³ä¹å¼€å…³é‡å  | å°† `hud-top` æ”¹ä¸ºå·¦å¯¹é½ï¼Œä½¿ç”¨ `score-section` å‚ç›´å¸ƒå±€ |

---

## å¿«æ·é”®

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| ESC | æš‚åœ/ç»§ç»­æ¸¸æˆï¼Œè‡ªåŠ¨ä¿å­˜è¿›åº¦ |

---

## æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | æ”¯æŒçŠ¶æ€ | å¤‡æ³¨ |
|--------|----------|------|
| Chrome/Edge | âœ… å®Œå…¨æ”¯æŒ | æ¨èä½¿ç”¨ |
| Firefox | âœ… å®Œå…¨æ”¯æŒ | - |
| Safari | âœ… å®Œå…¨æ”¯æŒ | éœ€ç”¨æˆ·äº¤äº’åæ’­æ”¾éŸ³é¢‘ |

---

## èƒŒæ™¯éŸ³ä¹ç‰ˆæƒ

æœ¬æ¸¸æˆä½¿ç”¨ Bensound çš„å…ç‰ˆç¨éŸ³ä¹ï¼š

| éŸ³ä¹åç§° | è‰ºæœ¯å®¶ | æˆæƒç  |
|----------|--------|--------|
| Dawn of Change | Benjamin Lazzarus | MREQ7PYSI7LRNLJR |
| Yesterday | Roman Senyk | RDNI1JG1LDCCLSWW |
| Dawn of Change | Aventure | UHOEOFRWEDZB8DU4 |
| Floating Garden | Aventure | B6SBKWBZQD2SBSQB |
| - | Aventure | 2VCHYH5J5DQLQEBO |

Music by: https://www.bensound.com/free-music-for-videos

---

## LocalStorage æ•°æ®ç»“æ„

### æ¸¸æˆå­˜æ¡£ `esperanto_save`
```javascript
{
    score: number,
    health: number,
    difficulty: string,
    wordMode: string,
    currentWordIndex: number,
    healthMode: string,
    words: Array<{
        text: string,
        trans: string,
        x: number,
        y: number,
        speed: number,
        color: string
    }>,
    timestamp: number
}
```

### æœ€é«˜åˆ† `esperanto_highscores`
```javascript
{
    easy: number,
    medium: number,
    hard: number
}
```

### è®¾ç½®é¡¹
| é”®å | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `bgmEnabled` | boolean | èƒŒæ™¯éŸ³ä¹å¼€å…³ |
| `bgmVolume` | number (0-1) | BGM éŸ³é‡ |
| `sfxEnabled` | boolean | éŸ³æ•ˆå¼€å…³ |

---

## å·¥å…·æ–‡ä»¶è¯´æ˜

### add_words_full.js

ç”¨äºæ›´æ–° `wordDatabase` çš„ Node.js è„šæœ¬ï¼š

```bash
node add_words_full.js
```

åŠŸèƒ½ï¼š
1. è¯»å– `ä¸–ç•Œè¯­1000è¯.txt`
2. ç”Ÿæˆ 1000 ä¸ªå•è¯å¯¹è±¡ï¼Œæ ¼å¼ï¼š
   ```javascript
   {
       word: "å•è¯",
       trans: "ç¿»è¯‘",
       audio: "esperanto 1000åŸºç¡€è¯ ä¸€è¯ä¸€éŸ³/0001.mp3"
   }
   ```
3. è‡ªåŠ¨æ›´æ–° `index.html` ä¸­çš„ `wordDatabase` æ•°ç»„

---

## å¼€å‘è€…

- åˆ›å»ºæ—¥æœŸ: 2025
- æŠ€æœ¯æ–‡æ¡£ç‰ˆæœ¬: 1.1
- è”ç³»é‚®ç®±: 1877303149@qq.com
